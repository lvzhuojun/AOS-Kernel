# 架构师日志 (Architect Log)

> 本文档用于记录来自总负责人/架构师（GPT-4o/Architect）的高层设计决策和架构指导。

---

## 2026-02-06 - 项目初始化

### 项目概述
构建一个基于 7 层认知架构的 AI 操作系统内核（AOS-Kernel）。

### 核心架构原则
- **7 层认知架构**：理解、记忆、计划、权限、执行、验证、恢复
- **模块化设计**：核心逻辑与功能代理分离
- **安全隔离**：使用 Docker 沙箱环境执行代码

### 逻辑与物理双重验证原则（2026-02-07）
**决策：** 确立「逻辑与物理双重验证」原则，废弃所有硬编码路径。

- **逻辑验证**：计划层、执行层、验证层、恢复层均不得使用写死的文件名（如 test.py、ghost.txt）；必须从用户意图与 step 的 description/expected_outcome 中提取或由 LLM 生成。
- **物理验证**：验证层在检查文件是否存在或步骤是否成功时，必须针对**计划中指定的那个文件名**进行判断，而非通用检查；expected_file 从 step 中解析并写入 verification_feedback。
- **原子化与兜底**：「创建并运行」必须拆分为两个独立步骤；API 失败时兜底仅通过正则从 user_input 提取信息或原样返回 intent，严禁替换为未出现的文件名。

### 待补充的架构决策
（架构师的高层设计将在此处记录）

---

## 架构咨询请求

（开发过程中遇到的架构问题将在此处记录，等待架构师回复）
